<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css" integrity="sha384-Zug+QiDoJOrZ5t4lssLdxGhVrurbmBWopoEl+M6BdEfwnCJZtKxi1KgxUyJq13dy" crossorigin="anonymous">
    <title>home</title>
    <script src="https://d3js.org/d3.v4.min.js"></script>
  </head>

  <body>
    <div class="container text-center">
      <br>
	    <h6 class="joke" style="color:white; font-size:9px"><small>(Actually losing your time, right!?)</small></h6>
      <br>
      <br>
      <br>
      <br>
      <svg></svg>
      <p ><a href="https://github.com/tblondelle/MosDataviz">Back to GitHub</a></p>

      <script>
        var svg = d3.select("svg")
          .attr("height", 100)
          .attr("width", 150);

        var line = d3.line()
          .x(function(d, i) {
            console.log(d)
            console.log(i)
            return x(3)
          })
          .y(function(d,i) {
            return y(d)
          })

        var data = [12, 50, 32, 12, 10, 2, 10];
        var x = d3.scaleLinear().range([150, 10])
          .domain([0, 6]);
        var y = d3.scaleLinear().range([100, 10])
          .domain([0, d3.max(data)]);

        svg.selectAll(".bar").data(data).enter()
          .append("rect")
          .attr("class", "bar")
          .attr("width", 10)
          .attr("height", function(d){
            return  100 - y(0)
          })
          .attr("x", function(d,i){
            return x(6 - i)
          })
          .attr("y", function(d){
            return y(0)
          })
		  

        function do1(){
          data.unshift(data.pop())
          svg.selectAll(".bar").data(data).transition()
            .attr("height", function(d){
              return 100 - y(d)
            })
            .attr("x", function(d,i){
              return x(6 - i)
            })
            .attr("y", function(d){
              return y(d)
            })
        }

        function do2(){
          svg.selectAll(".bar")
            .attr("x", function(d,i){
              return x(6-i)
            })
        }

        setInterval(function(){
          do1()
          //console.log(data)
          //setTimeout(do1, 1000)
        }, 750)
		
		setTimeout(function(){
			d3.select(".joke").transition().style("color", "grey")
		}, 4000)
		
		


      </script>
      
    </div>






    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/js/bootstrap.min.js" integrity="sha384-a5N7Y/aK3qNeh15eJKGWxsqtnX/wWdSZSKp+81YjTmS15nvnvxKHuzaWwXHDli+4" crossorigin="anonymous"></script>
  </body>
</html>
